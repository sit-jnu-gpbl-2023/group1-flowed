<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="ymgM68c_RMP`nA+4G_JW">angle</variable><variable id="$KK!HBP_Z:z=obedsSxu">rain</variable></variables><block type="pxt-on-start" id="m8nTr#WiixQDB?iOW:;c" x="-2" y="-381"><statement name="HANDLER"><block type="OLED_init" id="SHB^-o2Wc#h%xJ%RegI/"><value name="width"><shadow type="math_number" id=")uM[AX#p28$].0jd8:gn"><field name="NUM">128</field></shadow></value><value name="height"><shadow type="math_number" id="5-T2}S/TL1=~JX]RDrQ?"><field name="NUM">64</field></shadow></value><next><block type="ESP8266_IoT_initWIFI" id="THE.|jOhCd#%aEp`.()v"><field name="tx">SerialPin.P8</field><field name="rx">SerialPin.P12</field><field name="baudrate">BaudRate.BaudRate115200</field><next><block type="ESP8266_IoT_connectWifi" id="}`a_i|?M9J^WW5{:5VEZ"><value name="ssid"><shadow type="text" id="1d,o=_XgTxBDPpH)@v)8"><field name="TEXT">iptime</field></shadow></value><value name="pw"><shadow type="text" id="$-~~T4Qa?Y~]Cb.U3H4s"><field name="TEXT"></field></shadow></value><next><block type="device_clear_display" id="::?aPu7ubVMrAqO~T~|="><next><block type="LED" id="(L:]J[m5{RmA*8r,;_Rk"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><field name="pin">AnalogPin.P4</field><value name="ledstate"><shadow type="toggleOnOff" id="kL1]1_`Z*S8W]enXRW7o"><field name="on">false</field></shadow></value><next><block type="radio_set_group" id="Q#n/aZO$Z8uwQSi^!jni"><value name="ID"><shadow type="math_number_minmax" id="c@9+REkjL[/^7NjXy5N,"><mutation min="0" max="255" label="Number" precision="0"></mutation><field name="SLIDER">50</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="radio_on_number_drag" id="]vo(9zsr(Fg;GRm+#h3D" x="720" y="-121"><value name="HANDLER_DRAG_PARAM_receivedNumber"><shadow type="argument_reporter_number" id="kwbyuT=jm.7.NUk[tO$%"><field name="VALUE">receivedNumber</field></shadow></value><statement name="HANDLER"><block type="variables_set" id="IR1V(c%Rm}hG%73w~fW;"><field name="VAR" id="ymgM68c_RMP`nA+4G_JW">angle</field><value name="VALUE"><shadow type="math_number" id="DChbEUle=h^a!|^7g9=m"><field name="NUM">0</field></shadow></value><next><block type="controls_if" id="@UZynZ{Pz(0!on+_2|Xd"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id=".[miYo6p}7bGbBKAkY4?"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="5JaqaVjRQ$.M:7y!EMw7"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="9m2Cs;`=7l(AH(oC[X$;"><field name="VALUE">receivedNumber</field></block></value><value name="B"><shadow type="math_number" id="9*(aIKaK@7;qXiYuq8NJ"><field name="NUM">2</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="I]3ftQq(GLEl/o,d=(D8"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="wKHZ-+pQF/-t=54/*vfS"><field name="VAR" id="$KK!HBP_Z:z=obedsSxu">rain</field></block></value><value name="B"><shadow type="math_number" id="er%=uYc}~vt[1XKc69uq"><field name="NUM">40</field></shadow></value></block></value></block></value><statement name="DO0"><block type="variables_set" id="T3];6Jikg9n._AG{r|3w"><field name="VAR" id="ymgM68c_RMP`nA+4G_JW">angle</field><value name="VALUE"><shadow type="math_number" id="dn5fUQr|nOmo)C0fAjVR"><field name="NUM">90</field></shadow></value><next><block type="servoservosetangle" id="^e[(K8NDoC.Sf]r63lK]"><field name="servo">servos.P1</field><value name="degrees"><shadow type="protractorPicker"></shadow><block type="variables_get" id="{OL1`h|vf^4|M`p/Dz-4"><field name="VAR" id="ymgM68c_RMP`nA+4G_JW">angle</field></block></value><next><block type="sendGet" id="B.^RKBlD.S|#-%=aHyIO"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><value name="host"><shadow type="text" id="JF[5rdazPj^S/m+H}9R~"><field name="TEXT">192.168.0.73:8000</field></shadow></value><value name="path"><shadow type="text" id="*%?qHUaH~yq`vch!#JA,"><field name="TEXT">/</field></shadow></value><value name="f1"><block type="text" id="hg%Py[N7j$+LJpfzBdmR"><field name="TEXT">open</field></block></value></block></next></block></next></block></statement><statement name="ELSE"><block type="variables_set" id="I-y-vwirAnx5s!QWVWNp"><field name="VAR" id="ymgM68c_RMP`nA+4G_JW">angle</field><value name="VALUE"><shadow type="math_number" id="o3IOXz$.#6FL@{p8n8R4"><field name="NUM">0</field></shadow></value><next><block type="servoservosetangle" id="xMMy2V1H!{J]~Gk-|Em("><field name="servo">servos.P1</field><value name="degrees"><shadow type="protractorPicker"></shadow><block type="variables_get" id="@,o$XDthj@(2d;)#lBNd"><field name="VAR" id="ymgM68c_RMP`nA+4G_JW">angle</field></block></value><next><block type="sendGet" id="@9U!j]+;5Qu$%#Gm#kg/"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><value name="host"><shadow type="text" id="2S|]NRx(^(;p`2ItqPE1"><field name="TEXT">192.168.0.73:8000</field></shadow></value><value name="path"><shadow type="text" id="vS](Jx[fl6ylsz05g6H@"><field name="TEXT">/</field></shadow></value><value name="f1"><block type="text" id="~F6Xi5=(RcB-,FTN?bE5"><field name="TEXT">close</field></block></value></block></next></block></next></block></statement><next><block type="controls_if" id="*12tpgZ;)(^8P{6HQObr"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="YgzB[il!ten-FbkdAZ[="><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id=";eg%5VVYcdrAE,Py$k_2"><field name="VAR" id="ymgM68c_RMP`nA+4G_JW">angle</field></block></value><value name="B"><shadow type="math_number" id="#:)uqQ$|UgQ.Sf_/zdjt"><field name="NUM">90</field></shadow></value></block></value><statement name="DO0"><block type="controls_if" id="(H)En/Q19}fpnc5d?qe."><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="+9/(p!isooSVm6;}OVaJ"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="readsonarbit" id="NmSJ4i^LaeH5arAwr6{r"><field name="distance_unit">Environment.Distance_Unit.Distance_Unit_cm</field><field name="pin">DigitalPin.P14</field></block></value><value name="B"><shadow type="math_number" id=";iQ}U3`p|fnaZCK4jQFR"><field name="NUM">3</field></shadow></value></block></value><statement name="DO0"><block type="music_playable_play" id="vS70_M*P%Ex`31bDwx6V"><field name="playbackMode">music.PlaybackMode.UntilDone</field><value name="toPlay"><shadow type="music_string_playable"></shadow><block type="music_tone_playable" id="houmzWk[FK~c;Tv*G_Q."><value name="note"><shadow type="device_note" id="LZ+fu0[+ZupwJBG+JO0#"><field name="name">988</field></shadow></value><value name="duration"><shadow type="device_beat" id="qj}ABkpE_ejlAUTER^F]"><field name="fraction">BeatFraction.Half</field></shadow></value></block></value><next><block type="LED" id="Phw%LFE4P?Lc%axSDc^h"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><field name="pin">AnalogPin.P4</field><value name="ledstate"><shadow type="toggleOnOff" id="|RMf.d?IBYx@71?TO|Ah"><field name="on">true</field></shadow></value></block></next></block></statement></block></statement><next><block type="LED" id="#qL:H|oQVM7PihM2u/p`"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><field name="pin">AnalogPin.P4</field><value name="ledstate"><shadow type="toggleOnOff" id="{t3MUo@Xs3OuOF5D5%E:"><field name="on">false</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type="device_forever" id="f196G:n.v[@Ja/IEs-7!" x="0" y="0"><statement name="HANDLER"><block type="variables_set" id="86fhC?sAGv,#4IMmYVB{"><field name="VAR" id="$KK!HBP_Z:z=obedsSxu">rain</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="readWaterLevel" id="aN+ym1~3@]SmUUR{()o:"><field name="waterlevelpin">AnalogPin.P2</field></block></value><next><block type="OLED_clear" id="t_)jz_!G6h:zT2n7QZuV"><next><block type="OLED_writeString" id="%Gw}-r@:pm==IjVd8V3N"><value name="str"><shadow type="text" id="(jf8quoKz#13Kcqkd@$T"><field name="TEXT">water level:</field></shadow></value><next><block type="OLED_writeNumNewLine" id="P.nU5H]uVk4#`%j*yRO^"><value name="n"><block type="variables_get" id="398oZ72RefU0p5Q_~`;_"><field name="VAR" id="$KK!HBP_Z:z=obedsSxu">rain</field></block></value><next><block type="device_while" id=".IU%q7E7UijW#8v`Wk%w"><comment pinned="false" h="80" w="160">手動で扉を開く</comment><value name="COND"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="device_get_button2" id="LDwEvIhb1q_r0?%m^}q9"><field name="NAME">Button.A</field></block></value><statement name="DO"><block type="servoservosetangle" id="A{PD(]e@hC^M#?5!G~zm"><field name="servo">servos.P1</field><value name="degrees"><shadow type="protractorPicker" id="/HJOY7~8#Pouhu1AB*:H"><field name="angle">90</field></shadow></value></block></statement><next><block type="device_while" id="KUK$yWdzBpB$]Sj.|?r1"><comment pinned="false" h="80" w="160">手動で扉を閉める</comment><value name="COND"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="device_get_button2" id="$r~r4tVOfC7fPsu4?`nw"><field name="NAME">Button.B</field></block></value><statement name="DO"><block type="servoservosetangle" id="74gZ]CR7VLJz)o]OxPv."><field name="servo">servos.P1</field><value name="degrees"><shadow type="protractorPicker" id="C2?KdBzB6zlY=glH@*$}"><field name="angle">0</field></shadow></value></block></statement><next><block type="controls_if" id="RXT]:q`VvLcoLYI3@hZU"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="?;%l47L1VH_Htd{4}n8~"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="^ToJC.!L*Sz,7|FT(!F8"><field name="VAR" id="$KK!HBP_Z:z=obedsSxu">rain</field></block></value><value name="B"><shadow type="math_number" id="bmClZXKcIUAj?%R=L1gJ"><field name="NUM">40</field></shadow></value></block></value><statement name="DO0"><block type="radio_datagram_send" id="KDOKpP*D+/oa/144@!75"><value name="value"><shadow type="math_number" id="(hVqiBI!usO,vB;#f@z^"><field name="NUM">1</field></shadow></value></block></statement><statement name="ELSE"><block type="radio_datagram_send" id="69L!)]bugn[0N{cHO9C:"><value name="value"><shadow type="math_number" id="j^3E.ozKls$DFg:gj.HM"><field name="NUM">0</field></shadow></value></block></statement><next><block type="device_pause" id="?+uwwvMZ;d?glnm_1~!y"><value name="pause"><shadow type="timePicker" id="QHbb,$:X{*W%jhi/a7r="><field name="ms">1000</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>